# Введение
Показаны приемы применительно к drawio для формирования RDF (turtle). Это формирование предиката путем вычисления source \ target, получения фрагмента RDF с понятными (человеко-понятным) названием id и другие приемы.    

# Подходы к формализации связи объектов (фигур)
Как задавать связи двух объектов (двух фигур)? Классическое решение - через source & target, например, связь объекта с id=3 с id=4 будет закодирована как ... source="3" target="4".

Собственно это основной момент почему используем drawio (visio, yEd и др.), а не svg. Если подобное (source & target) как-то можно на svg - раскажите (возможно есть какие-то расширения). Через source \ target нам удается приблизить формат к RDF без расчетов координат фигур. 
В drawio есть возможность задать сторону прикрепления линии через узанание стороны фигуры к которой нужно прикрепить стрелку: Nord Sud Est Vest (и их комбинации, т.е. 8 точек).

См. пример "Excel to drawio" SemanticBPM/docs/drawio/Excel_to_drawio : Книга1_w10.xlsm \ file.xml

# Подходы к кодированию id фигур и стрелок (отношений)
Если посиотреть XML .drawio, то редактор .drawio генерит сложный id, например,  <mxCell id="mdkswg4nUfZF6YRSqMzf33" value="Process2". Лучше его заменить на свой. Иначе в RDF человеку будет не разобраться. 

Для замены на нужный id нужно уметь его вычислять. Могут быть разные подходы. Расмотрим два. 

Первый: генерим id из имени объекта. Если value="Процесс хороший", то id = "Процесс_хороший". Просто заменяем пробелы на "_". Так делал в https://github.com/bpmbpm/jsDOTsmartDesign 

Ограничение этого метода: не должно быть повторов имен на одной схеме. Для начала (на первом этапе - как демонстрация подхода) можно этого правила придерживаться при формировании схемы (самим отслеживать). Потом можно делать авто-подстановку: пробежаться по объектам схемы и при наличии одноименного в конец добавлять следующий номер через специальный знак. Например, если на схеме уже есть "Процесс_хороший", то при записи фигуры нужно переимовать id="mdkswg4nUfZF6YRSqMzf33" в "Процесс_хороший-1". Следующий одноименный будет иметь id="Процесс_хороший-2" и т.д. Это обеспечит уникальность id внутри схемы. Вне схемы уникальность будет обеспечиваться приставкой к id материнского процесса (который в заголовке схемы процесса).

Таким образом, при изменении названия (name) процесса меняется не только "label=" (зеркало "value=" в drawio), но и автоматически меняется его id. При длинных именах процесса будут сложности (длинное id и label), но для макетирования - это не принципиально.

В примере "Excel to drawio" SemanticBPM/docs/drawio/Excel_to_drawio : Книга1_w10.xlsm \ file.xml через скрипт excel генерируется схема процесса в соотвествии с заданным правилом. Задаются читаемые id как объетов, так и связей. 

id связи можно задачать через пару id связываемых объектов, например, "3->4". Если имеется несколько связей объекта 3 и 4, то id формируется по аналоии с одноименным объектом (см. выше), т.е. "3->4-1".

Второй. По аналогии с генерацией id в visio. К типу фигуры (типу объекта в нашем случае) через точку добавляется следующий свободный номер. Дайте ссылку на пример из visio (по формированию id фигуры). 
# Общие подходы к формированию id процесса 
Это все придумано (все может быть иначе). Пространство (набор) процессов. Есть номерные процессы и нет. Номерной - это когда перед названием указан номер процесса. Все процессы, имеющие схему детализации, являются номерными. У номерного процесса есть id, название и полное название (id+название \ имя). 
id включает p + номер. "p" - признак process.

Например, "p12.6 Процесс чего-то":
id = p12.6
имя (name) = Процесс чего-то
полное имя = p12.6 Процесс чего-то

Внутри схемы процесса, например, "p12.6 Процесс чего-то", все элементы процесса могут иметь коращенный id. 


